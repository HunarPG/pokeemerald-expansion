const Dawn = 1
const Lucas = 2
const Looker = 3
const Terminal_NPC = 8
const Looker_2 = 13

mapscripts Jubilife_City_MapScripts 
{
    MAP_SCRIPT_ON_TRANSITION : Jubilife_City_OnTransition
}

script Jubilife_City_OnTransition
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Jubilife_City_EventScript_Hide_Lucas)
    goto_if_eq(VAR_RESULT, FEMALE, Jubilife_City_EventScript_Hide_Dawn)
}

script Jubilife_City_EventScript_Hide_Lucas
{
    setflag(FLAG_HIDE_LUCAS_JUBILIFE_CITY)
    end()
}

script Jubilife_City_EventScript_Hide_Dawn
{
    setflag(FLAG_HIDE_DAWN_JUBILIFE_CITY)
    end()
}

script Jubilife_City_EventScript_Rival_2_Tutorial_1
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Jubilife_City_EventScript_Dawn_Tutorial_Take_Near_Looker_1)
    goto_if_eq(VAR_RESULT, FEMALE, Jubilife_City_EventScript_Lucas_Tutorial_Take_Near_Looker_1)
}

script Jubilife_City_EventScript_Rival_2_Tutorial_2
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Jubilife_City_EventScript_Dawn_Tutorial_Take_Near_Looker_2)
    goto_if_eq(VAR_RESULT, FEMALE, Jubilife_City_EventScript_Lucas_Tutorial_Take_Near_Looker_2)
}

script Jubilife_City_EventScript_Rival_2_Tutorial_3
{
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Jubilife_City_EventScript_Dawn_Tutorial_Take_Near_Looker_3)
    goto_if_eq(VAR_RESULT, FEMALE, Jubilife_City_EventScript_Lucas_Tutorial_Take_Near_Looker_3)
}

script Jubilife_City_EventScript_Dawn_Tutorial_Take_Near_Looker_1
{
    lockall()
    applymovement(Dawn, Movement_Jubiife_City_Rival_2_Comes_In_Sight_1)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Dawn, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    fadenewbgm(MUS_DP_DAWN)
    applymovement(Dawn, Movement_Jubiife_City_Rival_2_Reaches_Player)
    waitmovement(0)
    msgbox(Dawn_Talks_Before_Tutorial, MSGBOX_SIGN)
    applymovement(Dawn, Movement_Rival_2_Takes_Up_To_Looker_1)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Goes_Up_To_Looker_1)
    waitmovement(0)
    goto(Jubilife_City_EventScript_Dawn_Move_To_Looker_Cutscene)
}

script Jubilife_City_EventScript_Lucas_Tutorial_Take_Near_Looker_1
{
    lockall()
    applymovement(Lucas, Movement_Jubiife_City_Rival_2_Comes_In_Sight_1)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Lucas, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Lucas, Common_Movement_Delay48)
    waitmovement(0)
    fadenewbgm(MUS_DP_LUCAS)
    applymovement(Lucas, Movement_Jubiife_City_Rival_2_Reaches_Player)
    waitmovement(0)
    msgbox(Lucas_Talks_Before_Tutorial, MSGBOX_SIGN)
    applymovement(Lucas, Movement_Rival_2_Takes_Up_To_Looker_1)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Goes_Up_To_Looker_1)
    waitmovement(0)
    goto(Jubilife_City_EventScript_Lucas_Move_To_Looker_Cutscene)
}

script Jubilife_City_EventScript_Dawn_Tutorial_Take_Near_Looker_2
{
    lockall()
    applymovement(Dawn, Movement_Jubiife_City_Rival_2_Comes_In_Sight_2)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Dawn, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    fadenewbgm(MUS_DP_DAWN)
    applymovement(Dawn, Movement_Jubiife_City_Rival_2_Reaches_Player)
    waitmovement(0)
    msgbox(Dawn_Talks_Before_Tutorial, MSGBOX_SIGN)
    applymovement(Dawn, Movement_Rival_2_Takes_Up_To_Looker_2)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Goes_Up_To_Looker_2)
    waitmovement(0)
    goto(Jubilife_City_EventScript_Dawn_Move_To_Looker_Cutscene)
}

script Jubilife_City_EventScript_Lucas_Tutorial_Take_Near_Looker_2
{
    lockall()
    applymovement(Lucas, Movement_Jubiife_City_Rival_2_Comes_In_Sight_2)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Lucas, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Lucas, Common_Movement_Delay48)
    waitmovement(0)
    fadenewbgm(MUS_DP_LUCAS)
    applymovement(Lucas, Movement_Jubiife_City_Rival_2_Reaches_Player)
    waitmovement(0)
    msgbox(Lucas_Talks_Before_Tutorial, MSGBOX_SIGN)
    applymovement(Lucas, Movement_Rival_2_Takes_Up_To_Looker_2)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Goes_Up_To_Looker_2)
    waitmovement(0)
    goto(Jubilife_City_EventScript_Lucas_Move_To_Looker_Cutscene)
}

script Jubilife_City_EventScript_Dawn_Tutorial_Take_Near_Looker_3
{
    lockall()
    applymovement(Dawn, Movement_Jubiife_City_Rival_2_Comes_In_Sight_3)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Dawn, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    fadenewbgm(MUS_DP_DAWN)
    applymovement(Dawn, Movement_Jubiife_City_Rival_2_Reaches_Player)
    waitmovement(0)
    msgbox(Dawn_Talks_Before_Tutorial, MSGBOX_SIGN)
    applymovement(Dawn, Movement_Rival_2_Takes_Up_To_Looker_3)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Goes_Up_To_Looker_3)
    waitmovement(0)
    goto(Jubilife_City_EventScript_Dawn_Move_To_Looker_Cutscene)
}

script Jubilife_City_EventScript_Lucas_Tutorial_Take_Near_Looker_3
{
    lockall()
    applymovement(Lucas, Movement_Jubiife_City_Rival_2_Comes_In_Sight_3)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Lucas, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Lucas, Common_Movement_Delay48)
    waitmovement(0)
    fadenewbgm(MUS_DP_LUCAS)
    applymovement(Lucas, Movement_Jubiife_City_Rival_2_Reaches_Player)
    waitmovement(0)
    msgbox(Lucas_Talks_Before_Tutorial, MSGBOX_SIGN)
    applymovement(Lucas, Movement_Rival_2_Takes_Up_To_Looker_3)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Goes_Up_To_Looker_3)
    waitmovement(0)
    goto(Jubilife_City_EventScript_Lucas_Move_To_Looker_Cutscene)
}

script Jubilife_City_EventScript_Dawn_Move_To_Looker_Cutscene
{
    msgbox(Dawn_Notice_looker, MSGBOX_SIGN)
    applymovement(Looker, Movement_Looker_Moves_Near_Pokecenter)
    waitmovement(0)
    applymovement(Dawn, Movement_Rival_2_Move_To_Contrfront_Looker)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Move_To_Contrfront_Looker)
    applymovement(Looker, Movement_Looker_Gets_Caught)
    waitmovement(0)
    msgbox(Dawn_Confronts_Looker, MSGBOX_AUTOCLOSE)
    applymovement(Looker, Movement_Looker_Delays_Then_Face_Down)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Looker, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    playbgm(MUS_PL_LOOKER, FALSE)
    msgbox(Looker_Says_You_Unmasked_Me, MSGBOX_SIGN)
    applymovement(Dawn, Movement_Rival_Walk_In_Place_Up)
    msgbox(Dawn_Begs_Pardon_To_Looker, MSGBOX_SIGN)
    msgbox(Looker_Introduces_Himself, MSGBOX_YESNO)
    goto_if_eq(VAR_RESULT, YES, Jubilife_City_EventScript_Looker_Continues)
    goto_if_eq(VAR_RESULT, NO, Jubilife_City_EventScript_Looker_Explain_The_Saying)
    end()
}

script Jubilife_City_EventScript_Lucas_Move_To_Looker_Cutscene
{
    msgbox(Lucas_Notice_looker, MSGBOX_SIGN)
    applymovement(Looker, Movement_Looker_Moves_Near_Pokecenter)
    waitmovement(0)
    applymovement(Lucas, Movement_Rival_2_Move_To_Contrfront_Looker)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Move_To_Contrfront_Looker)
    applymovement(Looker, Movement_Looker_Gets_Caught)
    waitmovement(0)
    msgbox(Lucas_Confronts_Looker, MSGBOX_AUTOCLOSE)
    applymovement(Looker, Movement_Looker_Delays_Then_Face_Down)
    waitmovement(0)
    playse(SE_PIN)
    applymovement(Looker, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    playbgm(MUS_PL_LOOKER, FALSE)
    msgbox(Looker_Says_You_Unmasked_Me, MSGBOX_SIGN)
    applymovement(Lucas, Movement_Rival_Walk_In_Place_Up)
    msgbox(Lucas_Begs_Pardon_To_Looker, MSGBOX_SIGN)
    msgbox(Looker_Introduces_Himself, MSGBOX_YESNO)
    goto_if_eq(VAR_RESULT, YES, Jubilife_City_EventScript_Looker_Still_Reference_The_Saying)
    goto_if_eq(VAR_RESULT, NO, Jubilife_City_EventScript_Looker_Explain_The_Saying)
    end()
}

script Jubilife_City_EventScript_Looker_Explain_The_Saying
{
    msgbox(Jubilife_City_EventScript_Looker_Explain_The_Saying_Text, MSGBOX_SIGN)
    goto(Jubilife_City_EventScript_Looker_Continues)
}

script Jubilife_City_EventScript_Looker_Still_Reference_The_Saying
{
    msgbox(Jubilife_City_EventScript_Looker_Still_Reference_The_Saying_Text, MSGBOX_SIGN)
    goto(Jubilife_City_EventScript_Looker_Continues)
}

script Jubilife_City_EventScript_Looker_Continues
{
    msgbox(Jubilife_City_EventScript_Looker_Gives_Vs_Recorder, MSGBOX_SIGN)
    giveitem(ITEM_VS_RECORDER)
    msgbox(Jubilife_City_EventScript_Looker_Explains_Vs_Recorder, MSGBOX_SIGN)
    applymovement(Looker, Movement_Looker_Looks_Around)
    waitmovement(0)
    msgbox(Jubilife_City_EventScript_Looker_Requests, MSGBOX_SIGN)
    checkplayergender()
    goto_if_eq(VAR_RESULT, MALE, Jubilife_City_EventScript_Looker_Leaves_Dawn)
    goto_if_eq(VAR_RESULT, FEMALE, Jubilife_City_EventScript_Looker_Leaves_Lucas)
}

script Jubilife_City_EventScript_Looker_Leaves_Dawn
{
    applymovement(Looker, Movement_Looker_Goes_Near_Pokemon_Center)
    applymovement(Dawn, Movement_Face_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Right)
    waitmovement(Looker)
    applymovement(Looker, Movement_Looker_Leaves_To_North)
    applymovement(Dawn, Movement_Face_Up)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Up)
    waitmovement(Looker)
    msgbox(Dawn_Tells_Working_For_Police_Is_Hard, MSGBOX_SIGN)
    fadedefaultbgm()
    applymovement(Dawn, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Dawn, Movement_Rival_2_Goes_Near_School)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(Dawn)
    msgbox(Dawn_Tells_About_Trainer_School, MSGBOX_SIGN)
    applymovement(Dawn, Rival_2_Comes_Near_You_Before_Leaving)
    waitmovement(0)
    msgbox(Dawn_Tells_She_Saw_Barry_Going_In, MSGBOX_SIGN)
    applymovement(Dawn, Movement_Rival_2_Leaves_South)
    waitmovement(0)
    removeobject(Dawn)
    removeobject(Looker)
    setflag(FLAG_HIDE_DAWN_JUBILIFE_CITY)
    setflag(FLAG_HIDE_LOOKER_JUBILIFE_CITY)
    setvar(VAR_JUBILIFE_CITY_STATE, 1)
    releaseall()
    end()
}

script Jubilife_City_EventScript_Looker_Leaves_Lucas
{
    applymovement(Looker, Movement_Looker_Goes_Near_Pokemon_Center)
    applymovement(Lucas, Movement_Face_Right)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Right)
    waitmovement(Looker)
    applymovement(Looker, Movement_Looker_Leaves_To_North)
    applymovement(Lucas, Movement_Face_Up)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Up)
    waitmovement(Looker)
    msgbox(Lucas_Tells_Working_For_Police_Is_Hard, MSGBOX_SIGN)
    fadedefaultbgm()
    applymovement(Lucas, Movement_Rival_2_Goes_Near_School)
    waitmovement(0)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(Lucas)
    msgbox(Lucas_Tells_About_Trainer_School, MSGBOX_SIGN)
    applymovement(Lucas, Rival_2_Comes_Near_You_Before_Leaving)
    waitmovement(0)
    msgbox(Lucas_Tells_He_Saw_Barry_Going_In, MSGBOX_SIGN)
    applymovement(Lucas, Movement_Rival_2_Leaves_South)
    waitmovement(0)
    setflag(FLAG_HIDE_LUCAS_JUBILIFE_CITY)
    setflag(FLAG_HIDE_LOOKER_JUBILIFE_CITY)
    removeobject(Lucas)
    removeobject(Looker)
    setvar(VAR_JUBILIFE_CITY_STATE, 1)
    releaseall()
    end()
}

script Jubilife_City_EventScript_Location_Sign
{
    msgbox(Jubilife_City_EventScript_Location_Sign_Text, MSGBOX_SIGN)
    end()
}

script Jubilife_City_EventScript_Trader_1
{
    msgbox(Jubilife_City_EventScript_Trader_1_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_Trader_2
{
    msgbox(Jubilife_City_EventScript_Trader_2_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_Old_Man_Near_Trainer_School
{
    lockall()
    faceplayer()
    msgbox(Jubilife_City_EventScript_Old_Man_Near_Trainer_School_Text, MSGBOX_YESNO)
    goto_if_eq(VAR_RESULT, YES, Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Knowledgeable)
    goto_if_eq(VAR_RESULT, NO, Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Not_Knowledgeable)
}

script Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Knowledgeable
{
    msgbox(Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Knowledgeable_Text, MSGBOX_SIGN)
    releaseall()
    end()
}

script Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Not_Knowledgeable
{
    msgbox(Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Not_Knowledgeable_Text, MSGBOX_SIGN)
    releaseall()
    end()
}

script Jubilife_City_EventScript_Trainer_School_Sign
{
    msgbox(Jubilife_City_EventScript_Trainer_School_Sign_Text, MSGBOX_SIGN)
    end()
}

script Jubilife_City_EventScript_Global_Terminal_Sign
{
    msgbox(Jubilife_City_EventScript_Global_Terminal_Sign_Text, MSGBOX_SIGN)
    end()
}

script Jubilife_City_EventScript_Global_Terminal_NPC
{
    msgbox(Jubilife_City_EventScript_Global_Terminal_NPC_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_School_Kid_Near_Pokemon_Center
{
    msgbox(Jubilife_City_EventScript_School_Kid_Near_Pokemon_Center_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_Condominiums_Sign
{
    msgbox(Jubilife_City_EventScript_Condominiums_Sign_Text, MSGBOX_SIGN)
    end()
}

script Jubilife_City_EventScript_Woman_Near_Condonium
{
    msgbox(Jubilife_City_EventScript_Woman_Near_Condonium_Text, MSGBOX_SIGN)
    end()
}

script Jubilife_City_EventScript_Jubilife_Tv_Sign
{
    msgbox(Jubilife_City_EventScript_Jubilife_Tv_Sign_Text, MSGBOX_SIGN)
    end()
}

script Jubilife_City_EventScript_Woman_Near_Fountain
{
    msgbox(Jubilife_City_EventScript_Woman_Near_Fountain_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_Little_Girl_In_Front_Of_Jubilife_TV
{
    msgbox(Jubilife_City_EventScript_Little_Girl_In_Front_Of_Jubilife_TV_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_Lady_In_Front_Of_Poketch_Building
{
    msgbox(Jubilife_City_EventScript_Lady_In_Front_Of_Poketch_Building_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_Poketch_Company_Sign
{
    msgbox(Jubilife_City_EventScript_Poketch_Company_Sign_Text, MSGBOX_SIGN)
    end()
}

script Jubilife_City_EventScript_Looker_Near_Exit
{
    msgbox(Jubilife_City_EventScript_Looker_Near_Exit_Text, MSGBOX_SIGN)
}

script Jubilife_City_EventScript_Looker_Stop_You_From_Leaving_1
{
    playse(SE_PIN)
    applymovement(Looker_2, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Looker_2, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    applymovement(Looker_2, Movement_Looker_Comes_To_You_1)
    waitmovement(0)
    msgbox(Lucas_Tells_To_Go_To_Trainer_School, MSGBOX_SIGN)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Walks_Back)
    applymovement(Looker_2, Movement_Looker_Goes_Back_1)
    waitmovement(0)
    end()
}

script Jubilife_City_EventScript_Looker_Stop_You_From_Leaving_2
{
    playse(SE_PIN)
    applymovement(Looker_2, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Looker_2, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    applymovement(Looker_2, Movement_Looker_Comes_To_You_2)
    waitmovement(0)
    msgbox(Lucas_Tells_To_Go_To_Trainer_School, MSGBOX_SIGN)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Walks_Back)
    applymovement(Looker_2, Movement_Looker_Goes_Back_2)
    waitmovement(0)
    end()
}

script Jubilife_City_EventScript_Looker_Stop_You_From_Leaving_3
{
    playse(SE_PIN)
    applymovement(Looker_2, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Looker_2, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Face_Left)
    waitmovement(0)
    applymovement(Looker_2, Movement_Looker_Comes_To_You_3)
    waitmovement(0)
    msgbox(Lucas_Tells_To_Go_To_Trainer_School, MSGBOX_SIGN)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Player_Walks_Back)
    applymovement(Looker_2, Movement_Looker_Goes_Back_3)
    waitmovement(0)
    end()
}

script Jubilife_City_EventScript_Global_Terminal_NPC_Trigger_1
{
    lockall()
    playse(SE_PIN)
    applymovement(Terminal_NPC, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Terminal_NPC, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Terminal_NPC, Movement_Jubilife_City_Terminal_Npc_Walk_To_Player_1)
    waitmovement(0)
    msgbox(Jubilife_City_EventScript_Global_Terminal_NPC_Trigger_Texxt, MSGBOX_SIGN)
    applymovement(Terminal_NPC, Movement_Jubilife_City_Terminal_Npc_Push_Player)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Jubilife_City_Player_Step_Back)
    waitmovement(0)
    applymovement(Terminal_NPC, Movement_Jubilife_City_Terminal_Npc_Walk_Back_1)
    waitmovement(0)
    releaseall()
    end()
}

script Jubilife_City_EventScript_Global_Terminal_NPC_Trigger_2
{
    lockall()
    playse(SE_PIN)
    applymovement(Terminal_NPC, Common_Movement_ExclamationMark)
    waitmovement(0)
    applymovement(Terminal_NPC, Common_Movement_Delay48)
    waitmovement(0)
    applymovement(Terminal_NPC, Movement_Jubilife_City_Terminal_Npc_Walk_To_Player_2)
    waitmovement(0)
    msgbox(Jubilife_City_EventScript_Global_Terminal_NPC_Trigger_Texxt, MSGBOX_SIGN)
    applymovement(Terminal_NPC, Movement_Jubilife_City_Terminal_Npc_Push_Player)
    applymovement(OBJ_EVENT_ID_PLAYER, Movement_Jubilife_City_Player_Step_Back)
    waitmovement(0)
    applymovement(Terminal_NPC, Movement_Jubilife_City_Terminal_Npc_Walk_Back_2)
    waitmovement(0)
    releaseall()
    end()
}

script Jubilife_City_EventScript_Joker_1
{
    if (flag(FLAG_GOT_COUPON_1))
    {
        msgbox(Jubilife_City_EventScript_Joker_1_Already_Got_Coupon_Text, MSGBOX_NPC)
    }
    else
    {
        goto(Jubilife_City_EventScript_Joker_1_Ask_Question)
    }
}

script Jubilife_City_EventScript_Joker_1_Ask_Question
{
    lock()
    faceplayer()
    msgbox(Jubilife_City_EventScript_Joker_1_Ask_Question_Text, MSGBOX_YESNO)
    goto_if_eq(VAR_RESULT, YES, Jubilife_City_EventScript_Joker_1_Question_Correct)
    goto_if_eq(VAR_RESULT, NO, Jubilife_City_EventScript_Joker_Question_Wrong)
}

script Jubilife_City_EventScript_Joker_1_Question_Correct
{
    playse(SE_DING_DONG)
    msgbox(Jubilife_City_EventScript_Joker_1_Give_Coupon, MSGBOX_SIGN)
    giveitem(ITEM_COUPON_1)
    setflag(FLAG_GOT_COUPON_1)
    release()
    end()
}

script Jubilife_City_EventScript_Joker_2
{
    if (flag(FLAG_GOT_COUPON_2))
    {
        msgbox(Jubilife_City_EventScript_Joker_2_Already_Got_Coupon_Text, MSGBOX_NPC)
    }
    else
    {
        goto(Jubilife_City_EventScript_Joker_2_Ask_Question)
    }
}

script Jubilife_City_EventScript_Joker_2_Ask_Question
{
    lock()
    faceplayer()
    msgbox(Jubilife_City_EventScript_Joker_2_Ask_Question_Text, MSGBOX_YESNO)
    goto_if_eq(VAR_RESULT, YES, Jubilife_City_EventScript_Joker_2_Question_Correct)
    goto_if_eq(VAR_RESULT, NO, Jubilife_City_EventScript_Joker_Question_Wrong)
}

script Jubilife_City_EventScript_Joker_2_Question_Correct
{
    playse(SE_DING_DONG)
    msgbox(Jubilife_City_EventScript_Joker_2_Give_Coupon, MSGBOX_SIGN)
    giveitem(ITEM_COUPON_2)
    setflag(FLAG_GOT_COUPON_2)
    release()
    end()
}

script Jubilife_City_EventScript_Joker_3
{
    if (flag(FLAG_HIDE_BARRY_IN_SCHOOL))
    {
        if (flag(FLAG_GOT_COUPON_3))
        {
            goto(Jubilife_City_EventScript_Joker_3_Already_Got_Coupon_Text)
        }
        else
        {
            goto(Jubilife_City_EventScript_Joker_3_Ask_Question)
        }
    }
    else
    {
        goto(Jubilife_City_EventScript_Joker_3_Before_Rival)
    }
}

script Jubilife_City_EventScript_Joker_3_Before_Rival
{
    msgbox(Jubilife_City_EventScript_Joker_3_Before_Rival_Text, MSGBOX_NPC)
    end()
}

script Jubilife_City_EventScript_Joker_3_Ask_Question
{
    lock()
    faceplayer()
    msgbox(Jubilife_City_EventScript_Joker_3_Text_Ask_Question, MSGBOX_YESNO)
    goto_if_eq(VAR_RESULT, YES, Jubilife_City_EventScript_Joker_3_Question_Correct)
    goto_if_eq(VAR_RESULT, NO, Jubilife_City_EventScript_Joker_Question_Wrong)
}

script Jubilife_City_EventScript_Joker_3_Question_Correct
{
    playse(SE_DING_DONG)
    msgbox(Jubilife_City_EventScript_Joker_3_Give_Coupon, MSGBOX_SIGN)
    giveitem(ITEM_COUPON_3)
    setflag(FLAG_GOT_COUPON_3)
    release()
    end()
}

script Jubilife_City_EventScript_Joker_Question_Wrong
{
    playse(SE_FAILURE)
    delay(10)
    playse(SE_FAILURE)
    msgbox(Jubilife_City_EventScript_Joker_Wrong_Answer MSGBOX_SIGN)
    release()
    end()
}

script Jubilife_City_EventScript_Joker_3_Already_Got_Coupon
{
    msgbox(Jubilife_City_EventScript_Joker_3_Already_Got_Coupon_Text, MSGBOX_NPC)
    end()
}

text Dawn_Talks_Before_Tutorial
{
    "Dawn: Hi, {PLAYER}!\n"
    "Are you catching Pokémon?\p"
    "...Um...\p"
    "I think you'd feel a lot safer if you\n"
    "were to catch some more.\n"
    "You know, like when you need to travel\n"
    "to faraway places.\p"
    "Oh, I know! Don't you think it's\n"
    "better to know more about Pokémon?\p"
    "Sure it is!\n"
    "I know just the place.\p"
    "Come on!\n"
    "Don't be shy. Follow me!"
}

text Lucas_Talks_Before_Tutorial
{
    "Lucas: Hey, {PLAYER}!\n"
    "How many Pokémon have you caught?\p"
    "Huh?\n"
    "I think you should catch some more.\p"
    "It might be more of a challenge\n"
    "raising a lot of Pokémon...\p"
    "But it's worth it. The more Pokémon\n"
    "you have, the happier you'll be.\p"
    "Hey, that's right! Don't you think it's\n"
    "better to know more about Pokémon?\p"
    "Sure it is!\n"
    "There's this great place for that.\p"
    "Come on! It's all right.\n"
    "Follow me."
}

text Dawn_Notice_looker
{
    "Dawn: That man...\n"
    "What is he doing?"
}

text Lucas_Notice_looker
{
    "Lucas: That guy...\n"
    "What's he doing?"
}

text Dawn_Confronts_Looker
{
    "Dawn: Um..."
}

text Lucas_Confronts_Looker
{
    "Lucas: Uh, excuse..."
}

text Looker_Says_You_Unmasked_Me
{
    "WHAAAT?!\p"
    "Mysterious man: ...How did you know?\p"
    "How did you unmask me as a member of\n"
    "the International Police?!"
}

text Dawn_Begs_Pardon_To_Looker
{
    "Dawn: Huh? What? I beg your pardon?\n"
    "I was just making conversation..."
}

text Lucas_Begs_Pardon_To_Looker
{
    "Lucas: Huh? What? Are you kidding?\n"
    "I was just making small talk..."
}

text Looker_Introduces_Himself
{
    "Shady man: ...Heh. You claim you were\n"
    "only making conversation, do you?\p"
    "But, I know better not to believe that.\n"
    "No, no, no.\p"
    "You recognized right away that I was\n"
    "someone extraordinary.\p"
    "That is why you spoke to me, is it not?\n"
    "Your power of observation is fearsome!\p"
    "Quite admirable, you are!\p"
    "Now that my cover has been blown, let\n"
    "me introduce myself.\p"
    "I am a globe-trotting elite of the\n"
    "International Police.\p"
    "My name... Ah, no, I shall inform you\n"
    "only of my code name.\p"
    "My code name, it is Looker.\n"
    "It is what they all call me.\p"
    "Incidentally, is the saying, “Don't be\n"
    "a thief!” familiar to you?"
}

text Jubilife_City_EventScript_Looker_Explain_The_Saying_Text
{
    "Looker: No? You claim to not know it?\n"
    "How could that be?\p"
    "rPerhaps your mama has said it, but you\n"
    "have forgotten it, like usual?\p"
    "Now listen, my friends. It is wrong to\n"
    "take what belongs to others."
}

text Jubilife_City_EventScript_Looker_Still_Reference_The_Saying_Text
{
    "Looker: Yes, that is correct.\n"
    "Taking what belongs to others is wrong."
}

text Jubilife_City_EventScript_Looker_Gives_Vs_Recorder
{
    "Unfortunately, there are apparently\n"
    "those who do not heed those words.\p"
    "In Sinnoh, in fact, there are criminals\n"
    "stealing the Pokémon of others.\p"
    "I have, therefore, been on the lookout\n"
    "for characters arousing my suspicion.\p"
    "Incidentally, you are Trainers, yes?\n"
    "Perhaps you can make use of this?"
}

text Jubilife_City_EventScript_Looker_Explains_Vs_Recorder
{
    "That Vs. Recorder, it is a nifty device\n"
    "for recording a match.\p"
    "I obtained it because it is quite popular\n"
    "these days.\p"
    "But myself, I do not do Pokémon\n"
    "battling very often.\p"
    "It will be in better hands with you."
}

text Jubilife_City_EventScript_Looker_Requests
{
    "Looker: Also, I have a request.\p"
    "If you were to see me again, I ask that\n"
    "you not talk to me, for I am on duty.\p"
    "...Actually, yes, yes, you may speak to\n"
    "me. You must.\p"
    "Not because I am lonely, no, no!\n"
    "You must inform me of bad guys!\l"
    "You must inform me of any happenings!"
}

text Dawn_Tells_Working_For_Police_Is_Hard
{
    "Dawn: ...Working for the International\n"
    "Police must be hard."
}

text Lucas_Tells_Working_For_Police_Is_Hard
{
    "Lucas: ...Working for the International\n"
    "Police sounds hard."
}

text Dawn_Tells_About_Trainer_School
{
    "{PLAYER}, here it is.\n"
    "It's the Trainers' School.\l"
    "The name says it all!"
}

text Lucas_Tells_About_Trainer_School
{
    "{PLAYER}, here we are.\n"
    "This is the Trainers' School.\l"
    "The name says it all!"
}

text Dawn_Tells_She_Saw_Barry_Going_In
{
    "I saw your friend {B_RIVAL_NAME} go in\n"
    "earlier.\p"
    "He could still be in there studying.\n"
    "OK, bye now!"
}

text Lucas_Tells_He_Saw_Barry_Going_In
{
    "Your pal {B_RIVAL_NAME} went in earlier.\n"
    "He might still be studying in there.\p"
    "OK, see you around!"
}

text Jubilife_City_EventScript_Location_Sign_Text
{
    "Jubilife City\n"
    "City of Joy"
}

text Jubilife_City_EventScript_Trader_1_Text
{
    "I'm trading Pokémon with my buddy!"
}

text Jubilife_City_EventScript_Trader_2_Text
{
    "I made my Pokémon hold an item before\n"
    "trading it.\p"
    "That will make the other Trainer\n"
    "ouble happy!"
}

text Jubilife_City_EventScript_Old_Man_Near_Trainer_School_Text
{
    "Hello, Trainer!\n"
    "Do you know much about Pokémon?"
}

text Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Knowledgeable_Text
{
    "Ah, I see!\n"
    "You are knowledgeable!\p"
    "I imagine you wouldn't see the need\n"
    "to visit the Trainers' School, then.\p"
    "But do visit if you have the time.\n"
    "You may discover something new!"
}

text Jubilife_City_EventScript_Old_Man_Near_Trainer_School_You_Are_Not_Knowledgeable_Text
{
    "Oh, you're not knowledgeable...\n"
    "But not to worry!\l"
    "There's the Trainers' School.\p"
    "The school will teach you the\n"
    "basics of Pokémon."
}

text Jubilife_City_EventScript_Trainer_School_Sign_Text
{
    "Trainers' School\n"
    "The First Step for Trainers!"
}

text Jubilife_City_EventScript_Global_Terminal_NPC_Text
{
    "Past here is the Global Terminal.\n"
    "It lets you trade with the whole world!\p"
    "Trading Pokémon means connecting\n"
    "with friends, both old and new.\p"
    "That's awesome!"
}

text Jubilife_City_EventScript_Global_Terminal_Sign_Text
{
    "The Global Terminal\n"
    "Your Gateway to the Whole World!\p"
}

text Jubilife_City_EventScript_School_Kid_Near_Pokemon_Center_Text
{
    "OK, set six Poké Balls in my\n"
    "belt...\p"
    "Yeah, that'll do it. At most, you\n"
    "can have six Pokémon with you."
}

text Jubilife_City_EventScript_Condominiums_Sign_Text
{
    "Jubilife Condominiums\n"
    "Tenants Wanted!"
}

text Jubilife_City_EventScript_Woman_Near_Condonium_Text
{
    "Hiya, where'd you come from?\n"
    "...\p"
    "Twinleaf Town, huh...\n"
    "It's a nice place. Quiet and all.\p"
    "Jubilife City is a big place, so it\n"
    "might be a bit of a shock to you."
}

text Jubilife_City_EventScript_Jubilife_Tv_Sign_Text
{
    "Jubilife TV\n"
    "The Fun-and-Games TV Station!"
}

text Jubilife_City_EventScript_Woman_Near_Fountain_Text
{
    "I am NPC that allows you to\n"
    "join various groups\l"
    "Implement me later"
}

text Jubilife_City_EventScript_Little_Girl_In_Front_Of_Jubilife_TV_Text
{
    "Did you see me on TV?\n"
    "I was in an interview!"
}

text Jubilife_City_EventScript_Lady_In_Front_Of_Poketch_Building_Text
{
    "When you walk with your Pokémon,\n"
    "they gradually grow friendlier."
}

text Jubilife_City_EventScript_Poketch_Company_Sign_Text
{
    "The Pokétch Company\n"
    "Pokémon Watches for the World!"
}

text Jubilife_City_EventScript_Looker_Near_Exit_Text
{
    "Ah, it is you! Have no fear.\n"
    "There are no shady characters about.\p"
    "Incidentally, have you visited the\n"
    "Trainers' School?\p"
    "Did your friend not guide you there\n"
    "earlier?"
}

text Lucas_Tells_To_Go_To_Trainer_School
{
    "Looker: Hello, my friend.\n"
    "Have you visited the Trainers' School?\p"
    "Did your friend not guide you there\n"
    "earlier?"
}

text Jubilife_City_EventScript_Global_Terminal_NPC_Trigger_Texxt
{
    "Past here is the Global Terminal, your\n"
    "gateway to the world!\p"
    "Oh, I’m sorry, you don’t have\n"
    "any Gym Badges.\p"
    "The Global Terminal is off-limits if you\n"
    "don’t have a Gym Badge. Sorry!"
}

text Jubilife_City_EventScript_Joker_1_Ask_Question_Text
{
    "Hi! I’m a Pokétch campaign clown!\n"
    "Let’s roll out my question!\p"
    "Does a Pokémon grow by defeating\n"
    "others and gaining Exp. Points?"
}

text Jubilife_City_EventScript_Joker_1_Give_Coupon
{
    "Ding-ding!\n"
    "You’re absolutely correct!\p"
    "Pokémon grow stronger by defeating\n"
    "other Pokémon in battle.\p"
    "Some Pokémon even grow into an\n"
    "entirely different form in a process\l"
    "known as evolution.\p"
    "Here you go!\n"
    "Your Pokétch Coupon!"
}

text Jubilife_City_EventScript_Joker_1_Already_Got_Coupon_Text
{
    "Pokémon grow stronger through\n"
    "battling.\p"
    "Some Pokémon even grow into an\n"
    "entirely different form in a process\l"
    "known as evolution."
}

text Jubilife_City_EventScript_Joker_2_Ask_Question_Text
{
    "Hi! I’m a Pokétch campaign clown!\n"
    "Let’s roll out my question!\p"
    "Just like Pokémon types, the moves\n"
    "of Pokémon also have types?"
}

text Jubilife_City_EventScript_Joker_2_Give_Coupon
{
    "Ding-ding!\n"
    "You’re absolutely correct!\p"
    "If the Pokémon’s type matches its\n"
    "move’s type, that move is made much\l"
    "more powerful!\p"
    "Here you go!\n"
    "Your Pokétch Coupon!"
}

text Jubilife_City_EventScript_Joker_2_Already_Got_Coupon_Text
{
    "If the Pokémon’s type matches its\n"
    "move’s type, that move is made much\l"
    "more powerful!"
}

text Jubilife_City_EventScript_Joker_3_Before_Rival_Text
{
    "Hi, there. You should stick around.\n"
    "We’re doing a Pokétch campaign soon.\p"
    "Before it starts, I think you should\n"
    "brush up at the Trainers’ School."
}

text Jubilife_City_EventScript_Joker_3_Text_Ask_Question
{
    "Hi! I’m a Pokétch campaign clown!\n"
    "Let’s roll out my question!\p"
    "Can a Pokémon hold an item?"
}

text Jubilife_City_EventScript_Joker_3_Give_Coupon
{
    "Ding-ding!\n"
    "You’re absolutely correct!\p"
    "A Pokémon may hold a single item.\p"
    "Some items become effective as soon\n"
    "as they are held by a Pokémon.\p"
    "Berries are eaten by Pokémon as\n"
    "necessary during battle.\p"
    "Here you go!\n"
    "Your Pokétch Coupon!"
}

text Jubilife_City_EventScript_Joker_Wrong_Answer
{
    "Bzzzzt!\n"
    "That’s the wrong answer..."
}

text Jubilife_City_EventScript_Joker_3_Already_Got_Coupon_Text
{
    "A Pokémon may hold a single item.\p"
    "Some items become effective as soon\n"
    "as they are held by Pokémon.\p"
    "Berries are eaten by Pokémon as\n"
    "necessary during battle."
}

movement Movement_Jubiife_City_Rival_2_Comes_In_Sight_1
{
    walk_left
    walk_down * 3
}

movement Movement_Jubiife_City_Rival_2_Comes_In_Sight_2
{
    walk_down * 3
}

movement Movement_Jubiife_City_Rival_2_Comes_In_Sight_3
{
    walk_right
    walk_down * 3
}

movement Movement_Jubiife_City_Rival_2_Reaches_Player
{
    walk_down * 2
}

movement Movement_Rival_2_Takes_Up_To_Looker_1
{
    walk_right
    walk_up * 16
}

movement Movement_Rival_2_Takes_Up_To_Looker_2
{
    walk_up *16
}


movement Movement_Rival_2_Takes_Up_To_Looker_3
{
    walk_left
    walk_up * 16
}

movement Movement_Player_Goes_Up_To_Looker_1
{
    walk_up
    walk_right
    walk_up * 15
}

movement Movement_Player_Goes_Up_To_Looker_2
{
    walk_up * 16
}

movement Movement_Player_Goes_Up_To_Looker_3
{
    walk_up
    walk_left
    walk_up * 15
}

movement Movement_Looker_Moves_Near_Pokecenter
{
    face_left
    delay_16
    delay_16
    face_down
    delay_16
    delay_16
    walk_left * 6
    face_right
    delay_16
    delay_16
    face_up
    delay_16
    delay_16
}

movement Movement_Rival_2_Move_To_Contrfront_Looker
{
    walk_up * 2
}

movement Movement_Player_Move_To_Contrfront_Looker
{
    walk_up * 2
    walk_right
    walk_up
}

movement Movement_Looker_Gets_Caught
{
    walk_right * 3
}

movement Movement_Looker_Delays_Then_Face_Down
{
    delay_16
    face_down
}

movement Movement_Rival_Walk_In_Place_Up
{
    walk_in_place_up
}

movement Movement_Looker_Looks_Around
{
    delay_16
    delay_16
    face_left
    delay_16
    delay_16
    face_right
    delay_16
    delay_16
    face_down
}

movement Movement_Looker_Goes_Near_Pokemon_Center
{
    walk_right * 3
    face_left
    delay_16
    delay_16
}

movement Movement_Looker_Leaves_To_North
{
    walk_up * 6
    delay_16
    delay_16
}

movement Movement_Rival_2_Goes_Near_School
{
    walk_down
    walk_left * 2
}

movement Rival_2_Comes_Near_You_Before_Leaving
{
    walk_up
    walk_right * 2
}

movement Movement_Rival_2_Leaves_South
{
    walk_down * 8
}

movement Movement_Looker_Comes_To_You_1
{
    walk_down
    walk_right
}

movement Movement_Looker_Comes_To_You_2
{
    walk_down * 2
    walk_right
}

movement Movement_Looker_Comes_To_You_3
{
    walk_down * 3
    walk_right
}

movement Movement_Player_Walks_Back
{
    walk_left
}

movement Movement_Looker_Goes_Back_1
{
    walk_left
    walk_up
    face_down
}

movement Movement_Looker_Goes_Back_2
{
    walk_left
    walk_up * 2
    face_down
}

movement Movement_Looker_Goes_Back_3
{
    walk_left
    walk_up * 3
    face_down
}

movement Movement_Jubilife_City_Terminal_Npc_Push_Player
{
    walk_right
}

movement Movement_Jubilife_City_Player_Step_Back
{
    walk_right
    face_left
}

movement Movement_Jubilife_City_Terminal_Npc_Walk_To_Player_1
{
    walk_down
    face_right
}

movement Movement_Jubilife_City_Terminal_Npc_Walk_To_Player_2
{
    walk_down * 2
    face_right
}

movement Movement_Jubilife_City_Terminal_Npc_Walk_Back_1
{
    walk_left
    walk_up
    face_down
}

movement Movement_Jubilife_City_Terminal_Npc_Walk_Back_2
{
    walk_left
    walk_up * 2
    face_down
}
